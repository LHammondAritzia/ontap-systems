You must gather certain information to successfully upgrade the original nodes.  The information includes node IDs, port and LIF details, licensing keys, and IP addresses.

|===
|Information needed |When collected |When used |Collected Information

|Model, system ID, serial number of original nodes
|_Stage 1: Prepare the nodes for the upgrade_
|_Stage 3: Install and boot node3_

_Stage 5: Install and boot node4_

_Stage 6: Decommission the old system_
|
|Shelf and disk information, flash storage details, memory, NVRAM, and adapter cards on original nodes
|_Stage 1: Preparing the nodes for the upgrade_
|Throughout the procedure
|
|Online aggregates and volumes on original nodes
|_Stage 1: Prepare the nodes for the upgrade_
|Throughout the procedure to verify that aggregates and volumes remain online except during brief relocation
|
|Output of commands `network port vlan show` and `network port ifgrp show`
|_Stage 1: Prepare the nodes for the upgrade_
|_Stage 3: Map ports from node1 to node3_

_Stage 5: Map ports from node2 to node4_
|
|(SAN environments only) Default configuration of FC ports
|_Stage 1: Prepare the nodes for the upgrade_
|When configuring FC ports on the new nodes
|
|(V-Series systems or systems with FlexArray Virtualization software only)

Topology for V-Series systems or systems with FlexArray Virtualization software
|_Stage 1: Prepare the nodes for the upgrade_
|_Stage 3: Install and boot node3_

_Stage 5: Install and boot node4_
|
|IP address of SPs
|_Stage 1: Prepare the nodes for the upgrade_
|_Stage 6: Ensure that the new controllers are set up correctly_
|
|License keys
|_Stage 1: Prepare the nodes for the upgrade_
|_Stage 6: Ensure that the new controllers are set up correctly_
|
|IP address for the external key management server
|_Stage 1: Rekey  disks for Storage Encryption_
|_Stage 6: Set up Storage Encryption on the new nodes_
|
|Name and path of web-accessible directory where you download files to netboot the nodes
|_Stage 1: Prepare to netboot_
|_Stage 3: Install  and boot node3_

_Stage 5: Install and boot node4_
|
|Non-SAN data LIFs owned by node1
|_Stage 2: Move nonSAN data LIFs owned by node1 to node2_
|Later in the section
|
|Cluster, intercluster, node-management, cluster-management, and physical ports
|_Stage 2: Record node1 information_
|_Stage 3: Install and boot node3_

_Stage 3: Map ports from node1 to node3_
|
|Ports on new nodes
|_Stage 3: Map ports from node1 to node3_
|Later in the section and in the section _Map ports from node2 to node4_
|
|Available ports and broadcast domains on node3
|_Stage 3: Map ports from node1 to node3_
|Later in the section
|
|Non-SAN data LIFs not owned by node2
|_Moving non-SAN data LIFs belonging to node1 from node2 to node3 and verifying SAN LIFs on node3_
|Later in the section
|
|Non-SAN data LIFs owned by node2
|_Stage 3: Move nonSAN data LIFs owned by node2 to node3_
|Later in the section
|
|Cluster, intercluster, node-management, cluster-management, and physical ports
|_Stage 4: Record node2 information_
|_Stage 5: Install and booting node4_

_Stage 5: Map ports from node2 to node4_
|
|Cluster network ports on node4
|_Stage 5: Map ports from node2 to node4_
|Later in the section
|
|Available ports and broadcast domains on node4
|_Stage 5: Map ports from node2 to node4_
|Later in the section
|
|Private and public SSL certificates for the storage system and private SSL certificates for each key management server
|_Stage 6: Set up Storage Encryption on the new nodes_
|Later in the section
|
|===
